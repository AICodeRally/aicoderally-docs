# Rally Stack Nomenclature System

**Last Updated:** November 25, 2025
**Source:** `packages/core/module.ts`
**Status:** ‚úÖ Production Standard

---

## Overview

The Rally Stack uses a comprehensive nomenclature system to classify modules across multiple dimensions. This enables precise filtering, smart module recommendations, and automated wrapper configuration.

## Core Concepts

The nomenclature system has **four primary dimensions**:

1. **Category** - What the module DOES (functional area)
2. **Company Type** - What KIND of business uses it
3. **Domain** - What INDUSTRY/SPACE they serve
4. **Tier** - What customer segment (Studio/Edge/Summit)

Plus **two operational dimensions**:

5. **Status** - Lifecycle stage (production/prototype/demo/etc)
6. **Connectors** - Technical dependencies (database/auth/AI/etc)

---

## Dimension 1: Category (Functional Area)

**Definition:** What the module DOES - the functional capability it provides

**Type:** `RallyCategory` (single value per module)

### Complete Category List

```typescript
export type RallyCategory =
  // Core Business Functions
  | "crm"             // Customer/donor relationship management
  | "finance"         // Accounting, budgeting, commissions
  | "operations"      // HR, IT, compliance, settings
  | "project"         // Project/program management
  | "analytics"       // Reporting, dashboards, insights
  | "marketing"       // Campaigns, content, outreach
  | "sales"           // Sales pipeline, proposals
  | "hr"              // Human resources, recruiting
  | "inventory"       // Inventory management
  | "procurement"     // Purchasing, vendor management
  | "billing"         // Invoicing, payments
  | "payroll"         // Payroll processing
  | "compliance"      // Regulatory compliance, audits
  | "legal"           // Contracts, legal docs
  | "support"         // Customer support, helpdesk

  // Collaboration & Communication
  | "collaboration"   // Communication, scheduling
  | "documents"       // Document management
  | "calendar"        // Scheduling, appointments
  | "messaging"       // Chat, notifications
  | "meetings"        // Video, conferencing
  | "knowledge"       // Knowledge base, wiki

  // Specialized
  | "ai"              // AI-powered features
  | "spm"             // Sales Performance Management tools
  | "nonprofit"       // Nonprofit-specific (donor, grants, volunteers)
  | "education"       // Educational tools, learning
  | "events"          // Event planning, parties, scheduling
  | "food-service"    // Restaurant, cafe, food-related
  | "restaurant"      // Restaurant management, menus, reservations
  | "club"            // Clubs, memberships, social groups
  | "booking"         // Reservations, appointments
  | "scheduling"      // Staff scheduling, shifts
  | "membership"      // Memberships, subscriptions
  | "loyalty"         // Loyalty programs, rewards
  | "feedback"        // Surveys, reviews, NPS
  | "forms"           // Form builders, data collection
  | "workflow"        // Workflow automation
  | "integrations"    // Third-party integrations
  | "admin"           // System administration
  | "settings"        // Configuration, preferences
  | "onboarding"      // User onboarding, setup
  | "training"        // Training, LMS
  | "content"         // Content management
  | "social"          // Social media management
  | "ecommerce"       // E-commerce, shopping cart
  | "pos"             // Point of sale
  | "delivery"        // Delivery tracking
  | "fleet"           // Fleet management
  | "field-service"   // Field service management
  | "assets"          // Asset tracking
  | "maintenance"     // Maintenance, repairs
  | "safety"          // Safety, incidents
  | "quality"         // Quality control
  | "generic";        // General purpose utilities
```

### Category Color Gradients

```typescript
const categoryStyles: Record<string, string> = {
  crm: "bg-gradient-to-r from-indigo-500 to-purple-500",
  finance: "bg-gradient-to-r from-emerald-500 to-teal-500",
  operations: "bg-gradient-to-r from-slate-500 to-gray-500",
  project: "bg-gradient-to-r from-cyan-500 to-blue-500",
  analytics: "bg-gradient-to-r from-violet-500 to-purple-500",
  marketing: "bg-gradient-to-r from-pink-500 to-rose-500",
  sales: "bg-gradient-to-r from-blue-500 to-indigo-500",
  nonprofit: "bg-gradient-to-r from-green-500 to-emerald-500",
  spm: "bg-gradient-to-r from-sky-500 to-blue-500",
  generic: "bg-gradient-to-r from-gray-500 to-slate-500",
};
```

---

## Dimension 2: Company Type (Business Kind)

**Definition:** What KIND of business the customer is

**Type:** `RallyCompanyType[]` (array - a module can serve multiple business types)

### Complete Company Type List

```typescript
export type RallyCompanyType =
  // Professional Services
  | "nonprofit"       // Nonprofit organizations, NGOs, charities
  | "consulting"      // Consulting firms (management, IT, strategy)
  | "devshop"         // Software development agencies
  | "accounting"      // Accounting & CPA firms
  | "legal"           // Law firms, legal services
  | "marketing"       // Marketing & advertising agencies
  | "staffing"        // Recruiting & staffing agencies
  | "architecture"    // Architecture firms
  | "engineering"     // Engineering firms
  | "design"          // Design agencies (graphic, UX, interior)
  | "pr"              // Public relations firms
  | "research"        // Research firms, think tanks

  // Business Size/Stage
  | "startup"         // Early-stage startups
  | "smb"             // Small-medium businesses (general)
  | "enterprise"      // Large corporations
  | "individual"      // Individuals, freelancers, hobbyists
  | "solopreneur"     // Solo business owners
  | "franchise"       // Franchise operations

  // Institutional
  | "education"       // Schools, universities, training orgs
  | "government"      // Government agencies
  | "healthcare"      // Hospitals, clinics, medical practices
  | "church"          // Churches, religious organizations
  | "association"     // Trade associations, member orgs

  // Consumer-Facing
  | "restaurant"      // Restaurants, cafes, bars
  | "retail"          // Retail stores, shops
  | "salon"           // Salons, spas, beauty services
  | "gym"             // Gyms, fitness centers
  | "hotel"           // Hotels, hospitality
  | "realestate"      // Real estate agencies
  | "auto"            // Auto dealers, repair shops
  | "contractor"      // General contractors, trades
  | "photography"     // Photography studios
  | "wedding"         // Wedding planners, venues
  | "pet"             // Pet services, vets, groomers
  | "childcare"       // Daycares, childcare services

  // Other
  | "generic";        // General purpose
```

### Usage Example

```typescript
// Donor Management - Nonprofit-specific
companyType: ["nonprofit"]

// CPQ Tool - Consulting firms selling to enterprises
companyType: ["consulting", "devshop", "marketing"]

// Birthday Party Planner - General consumer
companyType: ["individual", "smb"]
```

---

## Dimension 3: Domain (Industry/Space)

**Definition:** What INDUSTRY or VERTICAL the module serves

**Type:** `RallyDomain[]` (array - a module can serve multiple domains)

### Complete Domain List

```typescript
export type RallyDomain =
  // Software/Tech Domains
  | "spm"             // Sales Performance Management (Xactly, Varicent, etc.)
  | "erp"             // Enterprise Resource Planning
  | "crm"             // Customer Relationship Management
  | "hcm"             // Human Capital Management
  | "scm"             // Supply Chain Management
  | "ecommerce"       // E-commerce platforms
  | "saas"            // SaaS industry
  | "fintech"         // Financial technology
  | "edtech"          // Education technology
  | "healthtech"      // Health technology
  | "proptech"        // Property/real estate technology
  | "martech"         // Marketing technology
  | "legaltech"       // Legal technology
  | "hrtech"          // HR technology

  // Traditional Industries
  | "healthcare"      // Healthcare, medical, pharma
  | "finance"         // Financial services, banking
  | "insurance"       // Insurance industry
  | "government"      // Government, public sector
  | "sports"          // Sports industry, athletics
  | "retail"          // Retail, e-commerce
  | "manufacturing"   // Manufacturing, industrial
  | "technology"      // Tech industry
  | "food-service"    // Restaurants, hospitality
  | "real-estate"     // Real estate, property
  | "education"       // Education sector
  | "media"           // Media, entertainment
  | "agriculture"     // Agriculture, farming
  | "construction"    // Construction industry
  | "transportation"  // Transportation, logistics
  | "energy"          // Energy, utilities
  | "telecom"         // Telecommunications
  | "aerospace"       // Aerospace, defense
  | "automotive"      // Automotive industry
  | "pharma"          // Pharmaceutical
  | "biotech"         // Biotechnology
  | "hospitality"     // Hotels, travel, tourism
  | "legal"           // Legal industry
  | "nonprofit"       // Nonprofit sector
  | "arts"            // Arts, culture, museums
  | "gaming"          // Gaming, esports
  | "fitness"         // Fitness, wellness
  | "beauty"          // Beauty, cosmetics
  | "fashion"         // Fashion, apparel
  | "events"          // Events, conferences
  | "generic";        // Cross-domain, general purpose
```

### Usage Example

```typescript
// Donor Management - Nonprofit sector
domain: ["nonprofit"]

// CPQ Tool - SPM (Sales Performance Management) vertical
domain: ["spm", "saas"]

// Restaurant Menu - Food service industry
domain: ["food-service", "hospitality"]
```

---

## Dimension 4: Tier (Customer Segment)

**Definition:** Which customer tier can use this module

**Type:** `RallyTier[]` (array - modules can span multiple tiers)

```typescript
export type RallyTier = "studio" | "edge" | "summit";
```

### Tier Definitions

- **Studio** - Entry-level, learning, kids/teens, hobbyists, individuals
- **Edge** - SMB transformation, 30-day business enablement, production tools
- **Summit** - Enterprise AI strategy, governance, large-scale deployments

### Usage Example

```typescript
// Donor Management - Edge and Summit only
tier: ["edge", "summit"]

// Birthday Party Planner - Studio only
tier: ["studio"]

// Control Center - All tiers
tier: ["studio", "edge", "summit"]
```

---

## Dimension 5: Status (Lifecycle Stage)

**Definition:** Production readiness and intended use

**Type:** `RallyModuleStatus` (single value)

```typescript
export type RallyModuleStatus =
  | "production"    // Live, customer-facing, fully supported
  | "prototype"     // Working proof-of-concept, may need polish (client demos, POCs)
  | "template"      // Starting point for new modules (scaffolding)
  | "demo"          // Show capability, not for production use (sales demos)
  | "experimental"  // Testing new ideas (R&D)
  | "archived";     // No longer maintained (legacy reference)
```

### Status Colors

```typescript
const statusStyles = {
  production: { bg: "bg-emerald-50", text: "text-emerald-700", dot: "bg-emerald-500" },
  prototype: { bg: "bg-amber-50", text: "text-amber-700", dot: "bg-amber-500" },
  template: { bg: "bg-violet-50", text: "text-violet-700", dot: "bg-violet-500" },
  demo: { bg: "bg-sky-50", text: "text-sky-700", dot: "bg-sky-500" },
  experimental: { bg: "bg-orange-50", text: "text-orange-700", dot: "bg-orange-500" },
  archived: { bg: "bg-gray-100", text: "text-gray-500", dot: "bg-gray-400" },
};
```

---

## Dimension 6: Connectors (Technical Dependencies)

**Definition:** What backend services/infrastructure this module requires

**Type:** `RallyConnectors` (object with boolean flags)

```typescript
export type RallyConnectors = {
  database?: boolean;   // Requires Prisma Postgres database
  auth?: boolean;       // Requires NextAuth authentication
  storage?: boolean;    // Requires Vercel Blob file storage
  ai?: boolean;         // Requires AI/LLM (Anthropic or Ollama)
  email?: boolean;      // Requires email service (Resend)
};
```

### Connector Display Icons

```typescript
{
  database: "üíæ",  // Database icon
  auth: "üîê",      // Lock icon
  ai: "ü§ñ",        // Robot icon
  email: "üìß",     // Email icon
  storage: "üìÅ",   // Folder icon
}
```

### Usage Example

```typescript
connectors: {
  database: true,   // Stores donor records in Prisma
  auth: true,       // Requires user login
  ai: true,         // AI-powered donor insights
  email: true,      // Sends donor communications
  storage: false,   // No file uploads
}
```

---

## Complete Module Metadata Example

```typescript
import type { RallyModule } from "@rally/core";

export const donorManagementModule: RallyModule = {
  meta: {
    id: "donor-management",
    name: "Donor Management",
    description: "Complete CRM for tracking donor relationships, donations, and engagement",
    version: "1.0.0",

    // Functional area
    category: "nonprofit",

    // Business classification
    tier: ["edge", "summit"],
    companyType: ["nonprofit"],
    domain: ["nonprofit"],

    // Operational
    status: "production",
    route: "/modules/donor-management",

    // Technical requirements
    connectors: {
      database: true,
      auth: true,
      ai: true,
      email: true,
      storage: false,
    },

    // UI
    icon: "Users",
    color: "#00bcd4",
  },
};
```

---

## Nomenclature Display Patterns

### In Module Cards

```tsx
{/* Category - always shown, colored gradient bar */}
<div className={`category-bar ${categoryStyles[module.category]}`} />

{/* Tags row */}
<div className="tags">
  {/* Category badge */}
  <span className="badge bg-slate-100 text-slate-600">
    {module.category}
  </span>

  {/* Company Type - indigo with icon */}
  {module.companyType?.[0] && (
    <span className="badge bg-indigo-50 text-indigo-700 border-indigo-200">
      üë• {module.companyType[0]}
    </span>
  )}

  {/* Domain - purple with icon (skip if "generic") */}
  {module.domain?.[0] && module.domain[0] !== "generic" && (
    <span className="badge bg-purple-50 text-purple-700 border-purple-200">
      üè¢ {module.domain[0]}
    </span>
  )}
</div>

{/* Connectors - footer section */}
{module.connectors && (
  <div className="connectors border-t pt-2">
    {module.connectors.database && <span title="Database">üíæ</span>}
    {module.connectors.auth && <span title="Auth">üîê</span>}
    {module.connectors.ai && <span title="AI-powered">ü§ñ</span>}
    {module.connectors.email && <span title="Email">üìß</span>}
    {module.connectors.storage && <span title="Storage">üìÅ</span>}
  </div>
)}
```

### In Filter Dropdowns

```tsx
{/* Category */}
<select value={selectedCategory || ""} onChange={...}>
  <option value="">All Categories</option>
  {categories.map(cat => (
    <option key={cat} value={cat}>{cat}</option>
  ))}
</select>

{/* Company Type */}
<select value={selectedCompanyType || ""} onChange={...}>
  <option value="">All Company Types</option>
  {companyTypes.map(type => (
    <option key={type} value={type}>{type}</option>
  ))}
</select>

{/* Domain */}
<select value={selectedDomain || ""} onChange={...}>
  <option value="">All Domains</option>
  {domains.map(domain => (
    <option key={domain} value={domain}>{domain}</option>
  ))}
</select>

{/* Status */}
<select value={selectedStatus || ""} onChange={...}>
  <option value="">All Statuses</option>
  {statuses.map(status => (
    <option key={status} value={status}>{status}</option>
  ))}
</select>
```

---

## Module Discovery Logic

### Example: Find modules for a Nonprofit using Edge

```typescript
const modules = allModules.filter(m =>
  m.meta.tier?.includes("edge") &&
  m.meta.companyType?.includes("nonprofit")
);
// Returns: donor-management, grant-tracking, volunteer-management, etc.
```

### Example: Find all SPM (Sales Performance Management) modules

```typescript
const modules = allModules.filter(m =>
  m.meta.domain?.includes("spm")
);
// Returns: cpq-tool, sow-builder, commissions, territories, forecasting, etc.
```

### Example: Find production-ready analytics modules

```typescript
const modules = allModules.filter(m =>
  m.meta.category === "analytics" &&
  (m.meta.status || "production") === "production"
);
// Returns: impact-analytics, reports-engine, dashboard-builder
```

---

## Wrapper Configuration

Wrappers bundle modules for specific customer segments using nomenclature:

```typescript
// NPEdge - Nonprofit Edge wrapper
{
  id: "npedge",
  tier: "edge",
  companyType: "nonprofit",
  domain: "nonprofit",
  modules: allModules
    .filter(m =>
      m.meta.tier?.includes("edge") &&
      m.meta.companyType?.includes("nonprofit")
    )
    .map(m => m.meta.id)
}

// BHGEdge - Consulting Edge for SPM
{
  id: "bhgedge",
  tier: "edge",
  companyType: "consulting",
  domain: "spm",
  modules: allModules
    .filter(m =>
      m.meta.tier?.includes("edge") &&
      m.meta.domain?.includes("spm")
    )
    .map(m => m.meta.id)
}
```

---

## Adding New Values

### When to Add a New Category

Add when you have a **fundamentally different functional capability** not covered by existing categories.

**Example:** Adding "telemedicine" category for virtual healthcare tools.

### When to Add a New Company Type

Add when targeting a **new business model or industry segment** not represented.

**Example:** Adding "marketplace" for two-sided marketplace businesses.

### When to Add a New Domain

Add when entering a **new industry vertical** with unique workflows.

**Example:** Adding "cannabis" for cannabis industry compliance tools.

### Process

1. Update `packages/core/module.ts` type definitions
2. Document in this file
3. Add color styling (if category)
4. Update any filtering UIs
5. Test module discovery logic

---

## AI Agent Instructions

When creating or updating modules:

1. **Always include all 6 dimensions:**
   - category (required)
   - tier (required array)
   - companyType (optional array, but strongly recommended)
   - domain (optional array, but strongly recommended)
   - status (defaults to "production")
   - connectors (declare all true dependencies)

2. **Be specific with nomenclature:**
   - Don't use "generic" unless truly cross-domain
   - Include all relevant company types
   - Include all relevant domains

3. **Follow color standards:**
   - Use established category gradients
   - Use indigo for company type badges
   - Use purple for domain badges

4. **Document connector requirements:**
   - Only set to `true` if actually needed
   - Helps with deployment planning

---

**End of Nomenclature System Documentation**
